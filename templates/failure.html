<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Payment Failed</title>
    <style>
        :root{
            --bg:#eef2f7;
            --card:#ffffff;
            --muted:#6b7280;
            --danger:#ef4444;
            --accent:#2563eb;
            --glass: rgba(255,255,255,0.6);
            --shadow: 0 10px 30px rgba(16,24,40,0.08);
            --radius:14px;
            --max-width:760px;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background:
                radial-gradient(1200px 600px at 10% 10%, rgba(37,99,235,0.06), transparent 8%),
                radial-gradient(800px 400px at 90% 90%, rgba(239,68,68,0.03), transparent 6%),
                var(--bg);
            color:#0f1724;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            padding:32px;
            display:flex;
            align-items:center;
            justify-content:center;
        }

        .card{
            width:100%;
            max-width:var(--max-width);
            background: linear-gradient(180deg,var(--card),#fbfdff 60%);
            border-radius:var(--radius);
            padding:28px;
            box-shadow:var(--shadow);
            display:flex;
            gap:22px;
            align-items:center;
            transform:translateY(0);
            transition:transform .22s ease, box-shadow .22s ease;
            border: 1px solid rgba(15,23,36,0.04);
        }
        .card:focus-within, .card:hover{ transform:translateY(-6px); box-shadow: 0 18px 40px rgba(16,24,40,0.12); }

        .icon{
            flex:0 0 96px;
            width:96px;
            height:96px;
            border-radius:18px;
            display:flex;
            align-items:center;
            justify-content:center;
            background: linear-gradient(135deg, rgba(255,234,234,0.9), rgba(255,244,240,0.85));
            box-shadow: inset 0 -6px 18px rgba(239,68,68,0.06);
            position:relative;
        }
        .icon svg{width:56px;height:56px;display:block}
        .badge{
            position:absolute;
            top:-8px;
            right:-8px;
            background:var(--danger);
            color:#fff;
            font-weight:700;
            padding:6px 8px;
            border-radius:10px;
            font-size:12px;
            box-shadow:0 6px 18px rgba(239,68,68,0.12);
        }

        .content{flex:1;min-width:0}
        h1{
            margin:0 0 6px 0;
            font-size:20px;
            letter-spacing:-0.2px;
        }
        .lead{
            margin:0 0 16px 0;
            color:var(--muted);
            font-size:15px;
            line-height:1.45;
        }

        .meta{
            display:grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap:10px;
            margin-bottom:18px;
        }
        .meta .item{
            background:rgba(15,23,36,0.03);
            padding:10px 12px;
            border-radius:10px;
            font-size:14px;
            color:#111827;
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:12px;
        }
        .meta .label{color:var(--muted);font-size:12px}
        .meta strong{font-weight:700;color:#0b1220}

        .actions{
            display:flex;
            gap:12px;
            flex-wrap:wrap;
            margin-bottom:12px;
        }
        .btn{
            display:inline-flex;
            align-items:center;
            gap:8px;
            padding:10px 14px;
            border-radius:10px;
            text-decoration:none;
            font-weight:600;
            font-size:14px;
            cursor:pointer;
            transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease;
        }
        .btn:active{ transform:translateY(1px) }
        .btn-primary{
            background:linear-gradient(180deg,var(--accent),#1e4fd6);
            color:#fff;
            box-shadow:0 8px 20px rgba(37,99,235,0.14);
            border: none;
        }
        .btn-ghost{
            background:transparent;
            color:#0f1724;
            border:1px solid rgba(15,23,36,0.06);
        }
        .btn-support{
            background:transparent;
            color:var(--danger);
            border:1px dashed rgba(239,68,68,0.14);
        }

        .support{
            margin-top:8px;
            color:var(--muted);
            font-size:14px;
        }
        ul.tips{margin:8px 0 0 18px;color:var(--muted)}
        footer{margin-top:12px;font-size:13px;color:var(--muted);display:flex;gap:12px;flex-wrap:wrap}

        .muted-inline{color:var(--muted);font-size:13px}
        .small{font-size:13px;color:var(--muted)}

        @media(max-width:720px){
            .card{flex-direction:column;align-items:flex-start;padding:18px}
            .icon{width:84px;height:84px;border-radius:12px}
        }
    </style>
</head>
<body>
    <div class="card" role="alert" aria-live="polite" aria-atomic="true">
        <div class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="11" fill="white" />
                <path d="M15 9L9 15" stroke="var(--danger)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 9L15 15" stroke="var(--danger)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div class="badge" aria-hidden="true">Failed</div>
        </div>

        <div class="content">
            <h1>Payment failed</h1>
            <p class="lead">
                {% if message %}
                    {{ message }}
                {% else %}
                    We couldn't complete your payment. No charges were made â€” you can try again or contact support for help.
                {% endif %}
            </p>

            <div class="meta" aria-hidden="false">
                {% if order_id %}
                    <div class="item"><span class="label">Order</span><strong>{{ order_id }}</strong></div>
                {% endif %}
                {% if amount %}
                    <div class="item"><span class="label">Amount</span><strong>{{ amount }}{% if currency %} {{ currency }}{% endif %}</strong></div>
                {% endif %}
                {% if transaction_id %}
                    <div class="item"><span class="label">Transaction</span><strong>{{ transaction_id }}</strong></div>
                {% endif %}
            </div>

            <div class="actions">
                {% if retry_url %}
                    <a href="{{ retry_url }}" class="btn btn-primary" role="button" aria-label="Retry payment">Try again</a>
                {% endif %}
                <a href="{{ home_url|default:'/' }}" class="btn btn-ghost" role="button" aria-label="Back to shop">Back to shop</a>
                {% if support_url %}
                    <a href="{{ support_url }}" class="btn btn-support" role="button" aria-label="Contact support">Contact support</a>
                {% elif support_email %}
                    <a href="mailto:{{ support_email }}" class="btn btn-support" role="button" aria-label="Email support">Email support</a>
                {% endif %}
            </div>

            <div class="support">
                <div class="small"><strong>What you can try</strong></div>
                <ul class="tips">
                    <li>Verify card details (number, expiry, CVC) and try again.</li>
                    <li>Use a different payment method or card.</li>
                    <li>Contact your bank to ensure the transaction isn't being blocked.</li>
                </ul>

                <footer>
                    {% if support_email %}<span class="muted-inline">Email: <a href="mailto:{{ support_email }}">{{ support_email }}</a></span>{% endif %}
                    {% if support_phone %}<span class="muted-inline">Phone: <a href="tel:{{ support_phone }}">{{ support_phone }}</a></span>{% endif %}
                </footer>
            </div>
        </div>
    </div>
</body>
</html>